import{r as v,e as F}from"./validators-dea6e3a5.js";import{q as S,a4 as T,s as D,r as n,n as j,L as P,t as E,a as N,o as U,f as $,e as s,b as t,d as l,z as a,E as d,G as w,cM as z,D as A,a2 as G,ag as W}from"./index-c4e71550.js";import{_ as H}from"./AppTextField-a8f30c8f.js";import{u as y}from"./useGenerateImageVariant-e1eabe90.js";import{a as J,b as K,c as O,d as Q}from"./auth-v2-login-illustration-light-19d5c0bb.js";import{a as X,b as Y}from"./misc-mask-light-1aeffaee.js";import{V as k}from"./VImg-8451f417.js";import{a as m,V as x}from"./VRow-3a397f81.js";import{V as Z}from"./VCard-71b3ac17.js";import{V as L}from"./VCardText-6669d6f5.js";import{V as ee}from"./VForm-617abc97.js";import{V as ae}from"./VCheckbox-7e1155cc.js";import"./helpers-61e4df1a.js";import"./focus-ba6d54b4.js";import"./VTextField-47e6f93c.js";/* empty css                   */import"./VCounter-856e1893.js";import"./VField-0f4003e5.js";import"./easing-9f15041e.js";import"./VInput-6532c874.js";import"./form-d2acef44.js";import"./forwardRefs-8348545e.js";import"./VAvatar-0d338c12.js";import"./VCheckboxBtn-5dd1ee23.js";import"./VSelectionControl-9181ec5a.js";const te={class:"position-relative bg-background rounded-lg w-100 ma-8 me-0"},se={class:"d-flex align-center justify-center w-100 h-100"},oe={class:"text-h4 mb-1"},re={class:"text-capitalize"},le=l("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),ie={class:"d-flex align-center flex-wrap justify-space-between mt-1 mb-4"},Te={__name:"login",setup(ne){const f=S(),p=T.useToast(),I=y(Q,O,K,J,!0),q=y(Y,X);D(()=>document.title="Login");const u=n(!1),g=j(),C=P(),V=n({email:void 0,password:void 0}),h=n(),i=n({email:"",password:""}),_=E(()=>f.state.auth.loading),c=n(!1),M=async()=>{try{const e=await f.dispatch("LoginAction",i.value);e.status===200?(p.success(e.message),C.push(g.query.to?`/verify?to=${String(g.query.to)}`:"/verify")):(e.status,p.error(e.message))}catch(e){console.log(e)}},R=()=>{var e;(e=h.value)==null||e.validate().then(({valid:o})=>{o&&M()})};return(e,o)=>{const b=H,B=N("RouterLink");return U(),$(x,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:s(()=>[t(m,{lg:"8",class:"d-none d-lg-flex"},{default:s(()=>[l("div",te,[l("div",se,[t(k,{"max-width":"505",src:a(I),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),t(k,{src:a(q),class:"auth-footer-mask"},null,8,["src"])])]),_:1}),t(m,{cols:"12",lg:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:s(()=>[t(Z,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:s(()=>[t(L,null,{default:s(()=>[l("h4",oe,[d(" Welcome to "),l("span",re,w(a(z).app.title),1),d("! 👋🏻 ")]),le]),_:1}),t(L,null,{default:s(()=>[t(a(ee),{ref_key:"refVForm",ref:h,onSubmit:A(R,["prevent"])},{default:s(()=>[t(x,null,{default:s(()=>[t(m,{cols:"12"},{default:s(()=>[t(b,{modelValue:a(i).email,"onUpdate:modelValue":o[0]||(o[0]=r=>a(i).email=r),label:"Email",placeholder:"johndoe@email.com",type:"email",autofocus:"",rules:["requiredValidator"in e?e.requiredValidator:a(v),"emailValidator"in e?e.emailValidator:a(F)],"error-messages":a(V).email},null,8,["modelValue","rules","error-messages"])]),_:1}),t(m,{cols:"12"},{default:s(()=>[t(b,{modelValue:a(i).password,"onUpdate:modelValue":o[1]||(o[1]=r=>a(i).password=r),label:"Password",placeholder:"············",rules:["requiredValidator"in e?e.requiredValidator:a(v)],type:a(u)?"text":"password","error-messages":a(V).password,"append-inner-icon":a(u)?"tabler-eye-off":"tabler-eye","onClick:appendInner":o[2]||(o[2]=r=>u.value=!a(u))},null,8,["modelValue","rules","type","error-messages","append-inner-icon"]),l("div",ie,[t(ae,{modelValue:a(c),"onUpdate:modelValue":o[3]||(o[3]=r=>G(c)?c.value=r:null),label:"Remember me"},null,8,["modelValue"]),t(B,{class:"text-primary ms-2 mb-1",to:{name:"password-forgot"}},{default:s(()=>[d(" Forgot Password? ")]),_:1})]),t(W,{block:"",type:"submit",disabled:_.value},{default:s(()=>[d(w(_.value?"Signing In...":"Sign In"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})}}};export{Te as default};
