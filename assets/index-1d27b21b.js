import{p as se,b as oe}from"./formatters-9f564f13.js";import{_ as re}from"./AppTextField-803105de.js";import{_ as ie}from"./AppSelect-b4b316a2.js";import{_ as ne}from"./AddNewUserDrawer-6f0aff3d.js";import{p as ce}from"./paginationMeta-4ad053a4.js";import{u as ue}from"./useApi-991c92ea.js";import{c as de}from"./createUrl-35b4ec5e.js";import{$ as W}from"./api-222f7d98.js";import{V as M,a as k}from"./VRow-44af3a5b.js";import{V as P}from"./VCard-367227de.js";import{V as S}from"./VCardText-83b6dd60.js";import{V as A}from"./VAvatar-eedc1aa8.js";import{r as n,ah as pe,t as O,a as F,o as v,c as z,d as o,b as t,e as a,z as s,a2 as p,F as me,C as fe,f as j,G as i,E as c,I as ve,a1 as m,ag as _,B as q}from"./index-670bda14.js";import{V as _e}from"./VSpacer-5e937b1c.js";import{V as G}from"./VDivider-964da8ec.js";import{V as be}from"./VDataTableServer-5b8536db.js";import{V as Ve}from"./VImg-4f1dd734.js";import{V as xe}from"./VChip-c9c9bc7b.js";import{V as ge}from"./VMenu-cbe945a0.js";import{V as he,a as B,b as L}from"./VList-faf63776.js";import{V as ye}from"./VPagination-3b4b51ec.js";import"./helpers-61e4df1a.js";import"./focus-bfe812d1.js";import"./VTextField-babd124d.js";/* empty css                   */import"./VCounter-40602143.js";import"./VField-eebd85ff.js";import"./easing-9f15041e.js";import"./VInput-28c68c55.js";import"./form-f40ca62b.js";import"./forwardRefs-8348545e.js";import"./VSelect-80bd1ff2.js";import"./dialog-transition-a3b422c0.js";import"./VOverlay-9bca4c5f.js";import"./lazy-055ec9ba.js";import"./scopeId-78466d19.js";import"./VCheckboxBtn-770097af.js";import"./VSelectionControl-798a6484.js";import"./validators-dea6e3a5.js";import"./AppDrawerHeaderSection-e0a1bd17.js";import"./vue3-perfect-scrollbar.esm-8721f1bb.js";import"./VForm-e3bcef70.js";import"./VNavigationDrawer-2280f09e.js";import"./ssrBoot-587632ee.js";import"./index-87919977.js";import"./VDataTable-674b624c.js";import"./VTable-3015d60e.js";import"./filter-9f13f1fe.js";const we={class:"d-flex mb-6"},ke={class:"d-flex justify-space-between"},Ue={class:"d-flex flex-column gap-y-1"},Ce={class:"text-body-1 text-medium-emphasis"},Pe={class:"text-h4"},Se={class:"text-sm"},Ae={class:"me-3 d-flex gap-3"},ze={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Be={style:{"inline-size":"10rem"}},Le={class:"d-flex align-center"},De={key:1},Te={class:"d-flex flex-column"},$e={class:"text-base"},Ee={class:"text-sm text-medium-emphasis"},Ie={class:"d-flex align-center gap-4"},Ne={class:"text-capitalize"},Re={class:"text-capitalize font-weight-medium"},We={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pa-5 pt-3"},Me={class:"text-sm text-disabled mb-0"},It={__name:"index",async setup(Oe){let b,D;const V=n(""),x=n(),g=n(),h=n(),u=n(10),d=n(1),T=n(),$=n(),Q=r=>{var l,f;d.value=r.page,T.value=(l=r.sortBy[0])==null?void 0:l.key,$.value=(f=r.sortBy[0])==null?void 0:f.order},H=[{title:"User",key:"user"},{title:"Role",key:"role"},{title:"Plan",key:"plan"},{title:"Billing",key:"billing"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],{data:E,execute:I}=([b,D]=pe(()=>ue(de("/apps/users",{query:{q:V,status:h,plan:g,role:x,itemsPerPage:u,page:d,sortBy:T,orderBy:$}}))),b=await b,D(),b),J=O(()=>E.value.users),y=O(()=>E.value.totalUsers),K=[{title:"Admin",value:"admin"},{title:"Author",value:"author"},{title:"Editor",value:"editor"},{title:"Maintainer",value:"maintainer"},{title:"Subscriber",value:"subscriber"}],X=[{title:"Basic",value:"basic"},{title:"Company",value:"company"},{title:"Enterprise",value:"enterprise"},{title:"Team",value:"team"}],Y=[{title:"Pending",value:"pending"},{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}],U=r=>{const l=r.toLowerCase();return l==="subscriber"?{color:"warning",icon:"tabler-circle-check"}:l==="author"?{color:"success",icon:"tabler-user"}:l==="maintainer"?{color:"primary",icon:"tabler-chart-pie-2"}:l==="editor"?{color:"info",icon:"tabler-edit"}:l==="admin"?{color:"secondary",icon:"tabler-device-laptop"}:{color:"primary",icon:"tabler-user"}},Z=r=>{const l=r.toLowerCase();return l==="pending"?"warning":l==="active"?"success":l==="inactive"?"secondary":"primary"},w=n(!1),ee=async r=>{await W("/apps/users",{method:"POST",body:r}),I()},N=async r=>{await W(`/apps/users/${r}`,{method:"DELETE"}),I()},te=n([{title:"Session",value:"21,459",change:29,desc:"Total Users",icon:"tabler-user",iconColor:"primary"},{title:"Paid Users",value:"4,567",change:18,desc:"Last Week Analytics",icon:"tabler-user-plus",iconColor:"error"},{title:"Active Users",value:"19,860",change:-14,desc:"Last Week Analytics",icon:"tabler-user-check",iconColor:"success"},{title:"Pending Users",value:"237",change:42,desc:"Last Week Analytics",icon:"tabler-user-exclamation",iconColor:"warning"}]);return(r,l)=>{const f=ie,ae=re,le=F("RouterLink"),R=F("IconBtn");return v(),z("section",null,[o("div",we,[t(M,null,{default:a(()=>[(v(!0),z(me,null,fe(s(te),(e,C)=>(v(),j(k,{key:C,cols:"12",md:"3",sm:"6"},{default:a(()=>[t(P,null,{default:a(()=>[t(S,null,{default:a(()=>[o("div",ke,[o("div",Ue,[o("span",Ce,i(e.title),1),o("div",null,[o("h4",Pe,[c(i(e.value)+" ",1),o("span",{class:ve(["text-base",e.change>0?"text-success":"text-error"])},"("+i(("prefixWithPlus"in r?r.prefixWithPlus:s(se))(e.change))+"%)",3)])]),o("span",Se,i(e.desc),1)]),t(A,{color:e.iconColor,variant:"tonal",rounded:"",size:"38"},{default:a(()=>[t(m,{icon:e.icon,size:"26"},null,8,["icon"])]),_:2},1032,["color"])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),t(P,{title:"Filters",class:"mb-6"},{default:a(()=>[t(S,null,{default:a(()=>[t(M,null,{default:a(()=>[t(k,{cols:"12",sm:"4"},{default:a(()=>[t(f,{modelValue:s(x),"onUpdate:modelValue":l[0]||(l[0]=e=>p(x)?x.value=e:null),label:"Select Role",placeholder:"Select Role",items:K,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),t(k,{cols:"12",sm:"4"},{default:a(()=>[t(f,{modelValue:s(g),"onUpdate:modelValue":l[1]||(l[1]=e=>p(g)?g.value=e:null),label:"Select Plan",placeholder:"Select Plan",items:X,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),t(k,{cols:"12",sm:"4"},{default:a(()=>[t(f,{modelValue:s(h),"onUpdate:modelValue":l[2]||(l[2]=e=>p(h)?h.value=e:null),label:"Select Status",placeholder:"Select Status",items:Y,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(P,null,{default:a(()=>[t(S,{class:"d-flex flex-wrap py-4 gap-4"},{default:a(()=>[o("div",Ae,[t(f,{"model-value":s(u),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"6.25rem"},"onUpdate:modelValue":l[3]||(l[3]=e=>u.value=parseInt(e,10))},null,8,["model-value"])]),t(_e),o("div",ze,[o("div",Be,[t(ae,{modelValue:s(V),"onUpdate:modelValue":l[4]||(l[4]=e=>p(V)?V.value=e:null),placeholder:"Search",density:"compact"},null,8,["modelValue"])]),t(_,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share"},{default:a(()=>[c(" Export ")]),_:1}),t(_,{"prepend-icon":"tabler-plus",onClick:l[5]||(l[5]=e=>w.value=!0)},{default:a(()=>[c(" Add New User ")]),_:1})])]),_:1}),t(G),t(s(be),{"items-per-page":s(u),"onUpdate:itemsPerPage":l[7]||(l[7]=e=>p(u)?u.value=e:null),page:s(d),"onUpdate:page":l[8]||(l[8]=e=>p(d)?d.value=e:null),items:s(J),"items-length":s(y),headers:H,class:"text-no-wrap","onUpdate:options":Q},{"item.user":a(({item:e})=>[o("div",Le,[t(A,{size:"34",variant:e.avatar?void 0:"tonal",color:e.avatar?void 0:U(e.role).color,class:"me-3"},{default:a(()=>[e.avatar?(v(),j(Ve,{key:0,src:e.avatar},null,8,["src"])):(v(),z("span",De,i(("avatarText"in r?r.avatarText:s(oe))(e.fullName)),1))]),_:2},1032,["variant","color"]),o("div",Te,[o("h6",$e,[t(le,{to:{name:"apps-user-view-id",params:{id:e.id}},class:"font-weight-medium text-link"},{default:a(()=>[c(i(e.fullName),1)]),_:2},1032,["to"])]),o("span",Ee,i(e.email),1)])])]),"item.role":a(({item:e})=>[o("div",Ie,[t(A,{size:30,color:U(e.role).color,variant:"tonal"},{default:a(()=>[t(m,{size:20,icon:U(e.role).icon},null,8,["icon"])]),_:2},1032,["color"]),o("span",Ne,i(e.role),1)])]),"item.plan":a(({item:e})=>[o("span",Re,i(e.currentPlan),1)]),"item.status":a(({item:e})=>[t(xe,{color:Z(e.status),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[c(i(e.status),1)]),_:2},1032,["color"])]),"item.actions":a(({item:e})=>[t(R,{onClick:C=>N(e.id)},{default:a(()=>[t(m,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),t(R,null,{default:a(()=>[t(m,{icon:"tabler-edit"})]),_:1}),t(_,{icon:"",variant:"text",size:"small",color:"medium-emphasis"},{default:a(()=>[t(m,{size:"24",icon:"tabler-dots-vertical"}),t(ge,{activator:"parent"},{default:a(()=>[t(he,null,{default:a(()=>[t(B,{to:{name:"apps-user-view-id",params:{id:e.id}}},{prepend:a(()=>[t(m,{icon:"tabler-eye"})]),default:a(()=>[t(L,null,{default:a(()=>[c("View")]),_:1})]),_:2},1032,["to"]),t(B,{link:""},{prepend:a(()=>[t(m,{icon:"tabler-pencil"})]),default:a(()=>[t(L,null,{default:a(()=>[c("Edit")]),_:1})]),_:1}),t(B,{onClick:C=>N(e.id)},{prepend:a(()=>[t(m,{icon:"tabler-trash"})]),default:a(()=>[t(L,null,{default:a(()=>[c("Delete")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:a(()=>[t(G),o("div",We,[o("p",Me,i(s(ce)({page:s(d),itemsPerPage:s(u)},s(y))),1),t(ye,{modelValue:s(d),"onUpdate:modelValue":l[6]||(l[6]=e=>p(d)?d.value=e:null),length:Math.ceil(s(y)/s(u)),"total-visible":r.$vuetify.display.xs?1:Math.ceil(s(y)/s(u))},{prev:a(e=>[t(_,q({variant:"tonal",color:"default"},e,{icon:!1}),{default:a(()=>[c(" Previous ")]),_:2},1040)]),next:a(e=>[t(_,q({variant:"tonal",color:"default"},e,{icon:!1}),{default:a(()=>[c(" Next ")]),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),t(ne,{isDrawerOpen:s(w),"onUpdate:isDrawerOpen":l[9]||(l[9]=e=>p(w)?w.value=e:null),onUserData:ee},null,8,["isDrawerOpen"])])}}};export{It as default};
