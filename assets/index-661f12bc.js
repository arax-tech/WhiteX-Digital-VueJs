import{f as R}from"./formatters-9f564f13.js";import{a as U,o as r,f as h,e as t,c as f,d as l,b as e,a1 as n,G as c,F as u,C as v,z as p,E as d,x as k,y as C,D as $,I as J,H as M}from"./index-670bda14.js";import{_ as K}from"./MoreBtn-705bbf1b.js";import{u as D}from"./useEmail-946dba63.js";import{P as Q}from"./vue3-perfect-scrollbar.esm-8721f1bb.js";import{V as W}from"./VNavigationDrawer-2280f09e.js";import{V as X}from"./VChip-c9c9bc7b.js";import{V as x}from"./VDivider-964da8ec.js";import{V as g}from"./VTooltip-4a06c0c7.js";import{V as L}from"./VMenu-cbe945a0.js";import{V as N,a as S,b as z}from"./VList-faf63776.js";import{V as Y}from"./VBadge-cd1db694.js";import{V as B}from"./VSpacer-5e937b1c.js";import{V as E}from"./VCard-367227de.js";import{V as Z}from"./VAvatar-eedc1aa8.js";import{V as I}from"./VImg-4f1dd734.js";import{V}from"./VCardText-83b6dd60.js";import"./helpers-61e4df1a.js";import"./api-222f7d98.js";import"./index-87919977.js";import"./scopeId-78466d19.js";import"./ssrBoot-587632ee.js";import"./VOverlay-9bca4c5f.js";import"./easing-9f15041e.js";import"./lazy-055ec9ba.js";import"./forwardRefs-8348545e.js";import"./dialog-transition-a3b422c0.js";const ee={class:"email-view-header d-flex align-center px-5 py-3"},te={class:"d-flex align-center flex-wrap flex-grow-1 overflow-hidden gap-3"},ae={class:"text-body-1 font-weight-medium text-high-emphasis text-truncate"},le={class:"d-flex flex-wrap gap-1"},ie={class:"email-view-action-bar d-flex align-center text-medium-emphasis px-5"},se={class:"d-flex align-center"},oe=l("span",null,"1-10 of 448",-1),re={class:"d-flex align-center"},ne={class:"d-flex align-start align-sm-center px-6 py-3"},me={class:"d-flex flex-wrap flex-grow-1 overflow-hidden"},de={class:"text-truncate"},ce={class:"d-block text-high-emphasis font-weight-medium text-truncate"},fe={class:"text-sm text-disabled"},pe={class:"d-flex align-center"},ue={class:"me-2"},_e=["innerHTML"],he=l("span",null,"2 Attachments",-1),ve=l("div",{class:"text-base"},[d(" Click here to "),l("span",{class:"text-primary cursor-pointer"}," Reply "),d(" or "),l("span",{class:"text-primary cursor-pointer"}," Forward ")],-1),Re={__name:"index",props:{email:{type:null,required:!0},emailMeta:{type:Object,required:!0}},emits:["refresh","navigated","close","trash","unread","read","star","unstar"],setup(T,{emit:F}){const i=T,b=F,{updateEmailLabels:A}=D(),{labels:P,resolveLabelColor:y,emailMoveToFolderActions:H,shallShowMoveToActionFor:j,moveSelectedEmailTo:q}=D(),G=s=>{q(s,[i.email.id]),b("refresh"),b("close")},O=async s=>{await A([i.email.id],s),b("refresh")};return(s,o)=>{const m=U("IconBtn"),w=K;return r(),h(W,{temporary:"","model-value":!!i.email,location:"right",scrim:!1,floating:"",class:"email-view"},{default:t(()=>[i.email?(r(),f(u,{key:0},[l("div",ee,[e(m,{class:"me-4",onClick:o[0]||(o[0]=a=>s.$emit("close"))},{default:t(()=>[e(n,{size:"22",icon:"tabler-chevron-left",class:"flip-in-rtl"})]),_:1}),l("div",te,[l("h2",ae,c(i.email.subject),1),l("div",le,[(r(!0),f(u,null,v(i.email.labels,a=>(r(),h(X,{key:a,color:p(y)(a),density:"default",class:"px-2 text-capitalize flex-shrink-0 me-2",label:""},{default:t(()=>[d(c(a),1)]),_:2},1032,["color"]))),128))])]),l("div",null,[e(m,null,{default:t(()=>[e(n,{icon:"tabler-printer"})]),_:1}),e(w,{density:"comfortable",color:"undefined"})])]),e(x),l("div",ie,[k(e(m,{onClick:o[1]||(o[1]=a=>{s.$emit("trash"),s.$emit("close")})},{default:t(()=>[e(n,{icon:"tabler-trash"}),e(g,{activator:"parent",location:"top"},{default:t(()=>[d(" Delete Mail ")]),_:1})]),_:1},512),[[C,!i.email.isDeleted]]),e(m,{onClick:o[2]||(o[2]=$(a=>{s.$emit("unread"),s.$emit("close")},["stop"]))},{default:t(()=>[e(n,{icon:"tabler-mail"}),e(g,{activator:"parent",location:"top"},{default:t(()=>[d(" Mark as Unread ")]),_:1})]),_:1}),e(m,null,{default:t(()=>[e(n,{icon:"tabler-folder"}),e(g,{activator:"parent",location:"top"},{default:t(()=>[d(" Move to ")]),_:1}),e(L,{activator:"parent"},{default:t(()=>[e(N,{density:"compact"},{default:t(()=>[(r(!0),f(u,null,v(p(H),a=>(r(),h(S,{key:a.title,class:J([p(j)(a.action)?"d-flex":"d-none","align-center"]),href:"#",onClick:_=>G(a.action)},{prepend:t(()=>[e(n,{icon:a.icon,class:"me-2",size:"20"},null,8,["icon"])]),default:t(()=>[e(z,{class:"text-capitalize"},{default:t(()=>[d(c(a.action),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})]),_:1}),e(m,null,{default:t(()=>[e(n,{icon:"tabler-tag"}),e(g,{activator:"parent",location:"top"},{default:t(()=>[d(" Label ")]),_:1}),e(L,{activator:"parent"},{default:t(()=>[e(N,{density:"compact"},{default:t(()=>[(r(!0),f(u,null,v(p(P),a=>(r(),h(S,{key:a.title,href:"#",onClick:$(_=>O(a.title),["stop"])},{prepend:t(()=>[e(Y,{inline:"",color:p(y)(a.title),dot:""},null,8,["color"])]),default:t(()=>[e(z,{class:"ms-2 text-capitalize"},{default:t(()=>[d(c(a.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1}),e(B),l("div",se,[oe,l("div",re,[e(m,{disabled:!i.emailMeta.hasPreviousEmail,onClick:o[3]||(o[3]=a=>s.$emit("navigated","previous"))},{default:t(()=>[e(n,{icon:"tabler-chevron-left",class:"flip-in-rtl"})]),_:1},8,["disabled"]),e(m,{disabled:!i.emailMeta.hasNextEmail,onClick:o[4]||(o[4]=a=>s.$emit("navigated","next"))},{default:t(()=>[e(n,{icon:"tabler-chevron-right",class:"flip-in-rtl"})]),_:1},8,["disabled"])])])]),e(x),e(p(Q),{tag:"div",class:"mail-content-container flex-grow-1",options:{wheelPropagation:!1}},{default:t(()=>[e(E,{class:"mx-5 my-4"},{default:t(()=>[l("div",ne,[e(Z,{class:"me-3",size:"32"},{default:t(()=>[e(I,{src:i.email.from.avatar,alt:i.email.from.name},null,8,["src","alt"])]),_:1}),l("div",me,[l("div",de,[l("span",ce,c(i.email.from.name),1),l("span",fe,c(i.email.from.email),1)]),e(B),l("div",pe,[l("span",ue,c(("formatDate"in s?s.formatDate:p(R))(i.email.time)),1),k(e(m,null,{default:t(()=>[e(n,{icon:"tabler-paperclip"})]),_:1},512),[[C,i.email.attachments.length]]),e(m,{color:i.email.isStarred?"warning":"default",onClick:o[5]||(o[5]=a=>{var _;(_=i.email)!=null&&_.isStarred?s.$emit("unstar"):s.$emit("star"),s.$emit("refresh")})},{default:t(()=>[e(n,{icon:i.email.isStarred?"tabler-star-filled":"tabler-star"},null,8,["icon"])]),_:1},8,["color"])])]),e(w,{class:"align-self-sm-center",density:"comfortable",color:"undefined"})]),e(x),e(V,null,{default:t(()=>[l("div",{class:"text-base",innerHTML:i.email.message},null,8,_e)]),_:1}),i.email.attachments.length?(r(),f(u,{key:0},[e(x),e(V,{class:"d-flex flex-column gap-y-4 pt-4"},{default:t(()=>[he,(r(!0),f(u,null,v(i.email.attachments,a=>(r(),f("div",{key:a.fileName,class:"d-flex align-center"},[e(I,{src:a.thumbnail,alt:a.fileName,"aspect-ratio":"1","max-height":"24","max-width":"24",class:"me-2"},null,8,["src","alt"]),l("span",null,c(a.fileName),1)]))),128))]),_:1})],64)):M("",!0)]),_:1}),e(E,{class:"mx-5 mb-5"},{default:t(()=>[e(V,{class:"font-weight-medium text-high-emphasis"},{default:t(()=>[ve]),_:1})]),_:1})]),_:1})],64)):M("",!0)]),_:1},8,["model-value"])}}};export{Re as default};
