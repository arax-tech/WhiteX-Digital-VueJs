import{r as u}from"./validators-dea6e3a5.js";import{s as V,q as C,a4 as y,L as P,t as f,r as g,o as S,f as A,e as t,b as e,D as F,z as l,ag as N,E as w,G as D}from"./index-c4e71550.js";import{_ as E}from"./AppTextField-a8f30c8f.js";import{V as T}from"./VCard-71b3ac17.js";import{V as B}from"./VDivider-aef533a2.js";import{V as L}from"./VCardText-6669d6f5.js";import{V as M}from"./VForm-617abc97.js";import{V as v,a as n}from"./VRow-3a397f81.js";import{V as h}from"./VFileInput-134ee4d3.js";import"./helpers-61e4df1a.js";import"./focus-ba6d54b4.js";import"./VTextField-47e6f93c.js";/* empty css                   */import"./VCounter-856e1893.js";import"./VImg-8451f417.js";import"./VField-0f4003e5.js";import"./easing-9f15041e.js";import"./VInput-6532c874.js";import"./form-d2acef44.js";import"./forwardRefs-8348545e.js";import"./VAvatar-0d338c12.js";import"./VChip-a642ea45.js";const de={__name:"setting",setup(R){V(()=>document.title="Admin - Setting"),V(()=>p.dispatch("GetAuthUser"));const p=C();y.useToast();const b=P(),i=f(()=>p.state.auth.setting),c=f(()=>p.state.auth.loading),q=f(()=>p.state.auth.user),_=JSON.parse(q.value.permissions);V(()=>{var o;(o=_.Setting)!=null&&o.includes("ReadSetting")||(alert("You don't have permission to access this resource..."),b.go(-1))});const d=g({company_name:i.value.company_name,email:i.value.email,phone1:i.value.phone1,phone2:i.value.phone2,phone3:i.value.phone3,address_1:i.value.address_1,address_2:i.value.address_2,menu_logo:null,fevicon:null,invoice_logo:null}),m=g(),U=o=>{var a;o.preventDefault(),(a=m==null?void 0:m.value)==null||a.validate().then(({valid:s})=>{s&&UpdateProfileFunction()})};return(o,a)=>{const s=E;return S(),A(v,null,{default:t(()=>[e(n,{cols:"12"},{default:t(()=>[e(T,{title:"Setting"},{default:t(()=>[e(B),e(L,{class:"pt-0"},{default:t(()=>[e(M,{class:"mt-6",onSubmit:F(U,["prevent"])},{default:t(()=>[e(v,null,{default:t(()=>[e(n,{md:"3",cols:"12"},{default:t(()=>[e(s,{"prepend-inner-icon":"tabler-user",modelValue:l(d).company_name,"onUpdate:modelValue":a[0]||(a[0]=r=>l(d).company_name=r),placeholder:"Company Name","persistent-placeholder":"",label:"Company Name",rules:["requiredValidator"in o?o.requiredValidator:l(u)]},null,8,["modelValue","rules"])]),_:1}),e(n,{md:"3",cols:"12"},{default:t(()=>[e(s,{"prepend-inner-icon":"tabler-mail",modelValue:l(d).email,"onUpdate:modelValue":a[1]||(a[1]=r=>l(d).email=r),placeholder:"Email","persistent-placeholder":"",label:"Email",rules:["requiredValidator"in o?o.requiredValidator:l(u)]},null,8,["modelValue","rules"])]),_:1}),e(n,{md:"3",cols:"12"},{default:t(()=>[e(s,{"prepend-inner-icon":"tabler-phone",modelValue:l(d).phone1,"onUpdate:modelValue":a[2]||(a[2]=r=>l(d).phone1=r),placeholder:"Phone1","persistent-placeholder":"",label:"Phone1",rules:["requiredValidator"in o?o.requiredValidator:l(u)]},null,8,["modelValue","rules"])]),_:1}),e(n,{md:"3",cols:"12"},{default:t(()=>[e(s,{"prepend-inner-icon":"tabler-phone",modelValue:l(d).phone2,"onUpdate:modelValue":a[3]||(a[3]=r=>l(d).phone2=r),placeholder:"Phone2","persistent-placeholder":"",label:"Phone2",rules:["requiredValidator"in o?o.requiredValidator:l(u)]},null,8,["modelValue","rules"])]),_:1}),e(n,{md:"4",cols:"12"},{default:t(()=>[e(s,{"prepend-inner-icon":"tabler-phone",modelValue:l(d).phone3,"onUpdate:modelValue":a[4]||(a[4]=r=>l(d).phone3=r),placeholder:"Phone3","persistent-placeholder":"",label:"Phone3",rules:["requiredValidator"in o?o.requiredValidator:l(u)]},null,8,["modelValue","rules"])]),_:1}),e(n,{md:"4",cols:"12"},{default:t(()=>[e(s,{"prepend-inner-icon":"tabler-map-pin",modelValue:l(d).address_1,"onUpdate:modelValue":a[5]||(a[5]=r=>l(d).address_1=r),placeholder:"Address 1","persistent-placeholder":"",label:"Address 1",rules:["requiredValidator"in o?o.requiredValidator:l(u)]},null,8,["modelValue","rules"])]),_:1}),e(n,{md:"4",cols:"12"},{default:t(()=>[e(s,{"prepend-inner-icon":"tabler-map-pin",modelValue:l(d).address_2,"onUpdate:modelValue":a[6]||(a[6]=r=>l(d).address_2=r),placeholder:"Address 2","persistent-placeholder":"",label:"Address 2",rules:["requiredValidator"in o?o.requiredValidator:l(u)]},null,8,["modelValue","rules"])]),_:1}),e(n,{md:"4",cols:"12",class:"mt-2"},{default:t(()=>[e(h,{label:"Fevicon",variant:"filled",onChange:a[7]||(a[7]=r=>l(d).fevicon=r.target.files[0])})]),_:1}),e(n,{md:"4",cols:"12",class:"mt-2"},{default:t(()=>[e(h,{label:"Menu Logo",variant:"filled",onChange:a[8]||(a[8]=r=>l(d).menu_logo=r.target.files[0])})]),_:1}),e(n,{md:"4",cols:"12",class:"mt-2"},{default:t(()=>[e(h,{label:"Invoice Logo",variant:"filled",onChange:a[9]||(a[9]=r=>l(d).invoice_logo=r.target.files[0])})]),_:1}),e(n,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:t(()=>[e(N,{type:"submit",disabled:c.value},{default:t(()=>[w(D(c.value?"Updating...":"Update"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{de as default};
